(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["design-components-widget-vue"],{"62a6":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"design-widget h-100"},[i("el-container",{staticClass:"h-100"},[i("el-header",{staticClass:"p-tabs",attrs:{height:"40px"}},[i("div",{staticClass:"p-tab",class:{active:"component"==t.widgetTab},on:{click:function(e){t.widgetTab="component"}}},[t._v("组件")]),t._v(" "),i("div",{staticClass:"p-tab",class:{active:"tree"==t.widgetTab},on:{click:function(e){t.widgetTab="tree"}}},[t._v("组件树")])]),t._v(" "),i("el-main",{staticClass:"p-tabs-main"},["component"==t.widgetTab?t._l(t.dragWidget,(function(e){return i("div",{key:e.typeKey,staticClass:"widget-group"},[i("div",{staticClass:"widget-group-title"},[t._v(t._s(e.title))]),t._v(" "),i("draggable",t._b({staticClass:"widget-list flex-items",attrs:{list:e.children,move:t.handleMove,clone:t.cloneData,tag:"div"}},"draggable",t.dragOptions,!1),[t._l(e.children,(function(e){return[i("div",{key:e.typeKey,staticClass:"widget-item widget-field",on:{click:function(i){return t.handleWidgetAdd(e)}}},[t._v(t._s(e.title))])]}))],2)],1)})):[t.pageData.list.length?i("draggable",t._b({staticClass:"widget-tree",attrs:{list:t.pageData.list,tag:"div"}},"draggable",t.dragTreeOptions,!1),[t._l(t.pageData.list,(function(e){return[i("div",{key:e.typeKey,staticClass:"widget-item flex-items",on:{click:function(i){return t.handleWidgetSelect(e)}}},[i("icon-svg",{staticClass:"drag-widget",attrs:{"icon-class":"drag2"}}),t._v(" "),i("div",{staticClass:"widget-title"},[t._v(t._s(e.title))]),t._v(" "),i("d-actions",{attrs:{item:e}})],1)]}))],2):i("div",[t._v("\n          请从左侧拖拽或点击添加字段\n        ")])]],2)],1)],1)},a=[],s=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),r=i("2f62"),c=i("310e"),o=i.n(c),d=i("ed08");function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=t.properties;return Object.keys(i).map((function(t){var n=i[t]||{};return n.typeKey=t,e>1&&n.properties&&(n.children=l(n,e-1)),n}))}var g=i("94cf");function p(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f={components:{Draggable:o.a,DActions:g["default"]},props:{schema:{type:Object,default:function(){}}},data:function(){return{widgetTab:"component",isDragging:!1}},computed:u({},Object(r["mapState"])({pageData:function(t){return t.design.pageData},selectWidget:function(t){return t.design.selectWidget}}),{dragWidget:function(){return console.log(l(this.schema,2)),l(this.schema,2)},dragOptions:function(){return{group:{name:"widget",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"}},dragTreeOptions:function(){return{animation:200,group:{name:"tree"},ghostClass:"ghost",handle:".drag-widget"}}}),methods:{cloneData:function(t){var e=Object(d["b"])(t);return e.key=e.typeKey+"_"+Math.ceil(1e6*Math.random()),e},handleWidgetAdd:function(t){this.$store.dispatch("design/cloneSelectWidget",t),this.$store.dispatch("design/setConfigTab","property")},handleWidgetSelect:function(t){this.$store.dispatch("design/setSelectWidget",t),this.$store.dispatch("design/setConfigTab","property")},handlePreview:function(){},handleSave:function(){},handleLoadData:function(){}}},h=f,b=(i("c06e"),i("2877")),v=Object(b["a"])(h,n,a,!1,null,"0a7de6e4",null);e["default"]=v.exports},"6af4":function(t,e,i){},c06e:function(t,e,i){"use strict";var n=i("6af4"),a=i.n(n);a.a}}]);